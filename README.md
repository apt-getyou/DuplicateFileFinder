# 重复文件扫描器

一款高效的 Windows 桌面应用程序，用于扫描、识别和管理重复文件。

## ✨ 主要特性

- **内容级重复检测**：通过 SHA-256 哈希算法识别文件内容，不同名称但内容相同的文件也能准确找出
- **智能过滤系统**：
  - 按文件扩展名包含/排除
  - 按文件大小过滤
  - 预设程序员友好规则（默认排除 `.git`, `node_modules`, `venv` 等目录）
  - 支持隐藏文件和系统文件选项
- **灵活的文件操作**：
  - 删除文件（移至回收站）
  - 移动文件到指定目录
  - 批量操作支持
- **配置保存/加载**：保存扫描配置，方便重复使用
- **多格式报告导出**：支持 TXT、JSON、CSV 格式
- **实时进度显示**：扫描进度条和状态提示
- **中文界面**：完全中文化，易于使用

## 🚀 快速开始

### 环境要求

- .NET 8.0 或更高版本
- Windows 10/11

### 编译项目

```bash
# 克隆或下载项目后，进入项目目录
cd DuplicateFileFinder

# 还原依赖
dotnet restore

# 编译项目
dotnet build --configuration Release

# 运行程序
dotnet run --configuration Release
```

### 打包为可执行文件

```bash
# 发布为单文件可执行程序
dotnet publish -c Release -r win-x64 --self-contained -p:PublishSingleFile=true

# 可执行文件位于: bin/Release/net8.0-windows/win-x64/publish/
```

## 📖 使用指南

### 1. 添加扫描路径

点击"➕ 添加路径"按钮，选择要扫描的文件夹。可以添加多个路径。

### 2. 配置过滤规则

- **过滤选项**：
  - 是否包含隐藏文件
  - 是否包含系统文件
  - 最小/最大文件大小限制

- **排除规则**：
  - 排除扩展名（如 `.tmp`, `.log`）
  - 排除目录（预设了程序员常用的目录，如 `node_modules`, `.git` 等）

### 3. 开始扫描

点击"🚀 开始扫描"按钮，程序会：
1. 扫描所有指定路径
2. 按文件大小预筛选
3. 计算文件哈希值（SHA-256）
4. 生成重复文件报告

### 4. 处理重复文件

在重复文件列表中：
- 勾选要处理的文件
- 点击操作按钮：
  - **🗑️ 删除文件**：将文件移至回收站
  - **📦 移动文件**：移动到指定目录
  - **📋 导出报告**：导出扫描报告

### 5. 保存/加载配置

- **💾 保存配置**：将当前扫描配置保存为 JSON 文件
- **📂 加载配置**：从 JSON 文件加载配置

## 🎯 适用场景

- 程序员管理多个项目的代码副本
- 清理照片库中的重复图片
- 清理下载文件夹中的重复文件
- 磁盘空间分析和优化

## ⚙️ 技术架构

- **框架**：WPF (.NET 8.0)
- **架构模式**：MVVM
- **依赖注入**：Microsoft.Extensions.DependencyInjection
- **日志**：Microsoft.Extensions.Logging
- **哈希算法**：SHA-256

## 📊 扫描原理

1. **文件收集**：递归扫描指定目录，收集所有符合过滤条件的文件
2. **大小预筛选**：按文件大小分组，只处理大小相同且重复的文件
3. **哈希计算**：对候选文件计算 SHA-256 哈希值
4. **重复识别**：将哈希值相同的文件归为一组
5. **结果展示**：按浪费空间大小排序展示

## 🛡️ 安全特性

- 删除操作默认移至回收站，可恢复
- 移动操作前会确认目标目录
- 所有操作都有明确的确认提示
- 不会删除系统关键文件（默认排除系统目录）

## 📝 注意事项

1. **首次扫描建议**：
   - 先扫描小范围测试
   - 检查结果是否符合预期
   - 确认过滤规则是否正确

2. **程序员特别说明**：
   - 默认排除了代码仓库相关目录（`.git`, `node_modules`, `venv` 等）
   - 这些目录中的重复文件是正常的，不需要清理

3. **大文件扫描**：
   - 扫描大量文件需要时间
   - 可以先设置文件大小下限，减少扫描范围

## 🐛 故障排除

### 扫描速度慢
- 启用文件大小过滤（设置最小文件大小）
- 减少扫描路径
- 添加更多排除目录

### 找不到重复文件
- 检查过滤规则是否过于严格
- 确认是否排除了相关目录

### 程序无法启动
- 确认已安装 .NET 8.0 Runtime
- 检查是否有防病毒软件阻止

## 📄 许可证

MIT License

## 👨‍💻 开发者

OpenClaw - Powered by Moltbot

---

**享受干净的文件系统！** 🦞
